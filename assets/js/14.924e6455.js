(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{423:function(t,v,_){"use strict";_.r(v);var a=_(2),r=Object(a.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("img",{attrs:{src:t.$withBase("/assets/images/210224.png"),alt:"界面图"}}),t._v(" "),v("h2",{attrs:{id:"一、前置信息"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#一、前置信息"}},[t._v("#")]),t._v(" 一、前置信息")]),t._v(" "),v("p",[t._v('《穿越火线》是一款"挖矿"游戏。')]),t._v(" "),v("p",[t._v('而我恰巧有一台闲置的低配电脑，能成为"无尽矿场"的小矿主。')]),t._v(" "),v("p",[t._v("为此购买了一个向日葵插座，用于查看用电量和重启蓝屏的电脑。")]),t._v(" "),v("p",[t._v("简单介绍就是 "),v("code",[t._v("利用javascript实现对电脑状态监控，并发送预警邮件和手机短信")]),t._v("。")]),t._v(" "),v("h2",{attrs:{id:"二、遇到的问题"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#二、遇到的问题"}},[t._v("#")]),t._v(" 二、遇到的问题")]),t._v(" "),v("p",[t._v('"挖矿"过程中会出现网络抖动，游戏就会'),v("code",[t._v("掉线")]),t._v("。")]),t._v(" "),v("p",[t._v("需要一个"),v("code",[t._v("监视预警")]),t._v('"系统"，来给我抛出异常。')]),t._v(" "),v("h2",{attrs:{id:"三、解决方案"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#三、解决方案"}},[t._v("#")]),t._v(" 三、解决方案")]),t._v(" "),v("h3",{attrs:{id:"方案"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#方案"}},[t._v("#")]),t._v(" 方案")]),t._v(" "),v("p",[t._v("解决方案我有想过很多种，比如在 PC 端运行一个软件，监控电脑是否有操作，或者画面是否有变化。")]),t._v(" "),v("p",[t._v("分析下来，目前而言"),v("code",[t._v("可行性太低")]),t._v("，限制太多（这不会那不会的），这个过程越简单越好。")]),t._v(" "),v("h3",{attrs:{id:"向日葵硬件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#向日葵硬件"}},[t._v("#")]),t._v(" 向日葵硬件")]),t._v(" "),v("p",[t._v("向日葵插座通过 WIFI 上报当前用电信息，通过抓包可以取得电流、功率等一些信息。")]),t._v(" "),v("p",[t._v("经测试：这些接口都没加密、支持跨域请求。")]),t._v(" "),v("p",[t._v("由此可以利用 javascript 实现一个简易版本的监控")]),t._v(" "),v("h3",{attrs:{id:"设想逻辑"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#设想逻辑"}},[t._v("#")]),t._v(" 设想逻辑")]),t._v(" "),v("p",[t._v("抓包所取得的向日葵接口中，有两个有用的信息，分别是"),v("code",[t._v("当前电流")]),t._v("和"),v("code",[t._v("当前功率")]),t._v("。")]),t._v(" "),v("p",[t._v("我可以通过"),v("code",[t._v("轮询")]),t._v("监控电脑的"),v("code",[t._v("电流和功率的变化")]),t._v("，来知晓当前计算机的运行状态。")]),t._v(" "),v("p",[t._v("当电流和功率大于或小于某个"),v("code",[t._v("设定的阈值")]),t._v("，则向我发送报警信息。")]),t._v(" "),v("p",[t._v("实际业务逻辑需要根据具体情况调优。")]),t._v(" "),v("h3",{attrs:{id:"观测接口"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#观测接口"}},[t._v("#")]),t._v(" 观测接口")]),t._v(" "),v("p",[t._v("电脑状态分别有：待机状态、关机状态、开机状态、挖矿状态、掉线状态")]),t._v(" "),v("p",[t._v("根据观测和记录的数据分析后得到如下结论，挖矿时电流和功率是最高。\n"),v("br"),t._v("\n电流处于 "),v("code",[t._v("180mA(毫安)")]),t._v(" 以上\n"),v("br"),t._v("\n功率处于 "),v("code",[t._v("23W(瓦)")]),t._v(" 以上")]),t._v(" "),v("h3",{attrs:{id:"快速迭代"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#快速迭代"}},[t._v("#")]),t._v(" 快速迭代")]),t._v(" "),v("p",[t._v('为了方便和快速开发，该"预计系统"是通过 HTML 和 javascript 编写。')]),t._v(" "),v("p",[t._v("通过 jquery 的 AJAX 发送请求获取当前用电信息，HTML 展示当前的电流和功率。")]),t._v(" "),v("p",[t._v("当电流和功率低于阈值时，发送邮件预警。")]),t._v(" "),v("h3",{attrs:{id:"邮件预警"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#邮件预警"}},[t._v("#")]),t._v(" 邮件预警")]),t._v(" "),v("p",[t._v("在网上调研到可以通过第三方 SMTP 服务，完成发送邮件的动作")]),t._v(" "),v("p",[v("a",{attrs:{href:"https://www.emailjs.com/docs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("EmailJS"),v("OutboundLink")],1),t._v(" "),v("br"),t._v(" "),v("a",{attrs:{href:"https://www.smtpjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("SMTPJS"),v("OutboundLink")],1),t._v("  |  "),v("a",{attrs:{href:"https://blog.csdn.net/qq_45034708/article/details/106600049",target:"_blank",rel:"noopener noreferrer"}},[t._v("SmtpJS 发送邮件教程"),v("OutboundLink")],1)]),t._v(" "),v("p",[t._v("通过 JS 库完成邮件服务")]),t._v(" "),v("h3",{attrs:{id:"短信通知"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#短信通知"}},[t._v("#")]),t._v(" 短信通知")]),t._v(" "),v("p",[t._v("移动 139 邮箱可设置免费短信通知。")]),t._v(" "),v("p",[t._v("当收到一封新邮件时，移动会发送短信给绑定邮件的手机号。")]),t._v(" "),v("h2",{attrs:{id:"四、最后"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#四、最后"}},[t._v("#")]),t._v(" 四、最后")]),t._v(" "),v("p",[t._v("至此，本地运行一个网页，通过多个第三服务完成对电脑的监控。")]),t._v(" "),v("p",[t._v("监控服务可以是多样的，如 Java，Node，但 Javascript 是现阶段最方便最快速的。")]),t._v(" "),v("p",[v("br")]),v("hr"),v("p"),t._v(" "),v("p",[v("RouterLink",{attrs:{to:"/views/fiddle/computer_monitor/210407.html"}},[t._v("210407-云监控电脑")])],1)])}),[],!1,null,null,null);v.default=r.exports}}]);